(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{111:function(e,t,c){},112:function(e,t,c){},256:function(e,t,c){},260:function(e,t,c){},261:function(e,t,c){},262:function(e,t,c){},263:function(e,t,c){},265:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),s=c.n(a),o=c(39),l=c.n(o),i=(c(111),c(20)),r=c(3),j=c(4),d=(c(112),c(40)),u=c(9),b=c.n(u),h=c(101),g=c.n(h);var O=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){localStorage.getItem("loggedIn")||localStorage.setItem("loggedIn",!1)}),[]),Object(a.useEffect)((function(){b.a.get("http://localhost:3001/upload").then((function(e){s(e.data)}))}),[]),Object(n.jsx)("div",{className:"Home",children:c.map((function(e,t){return Object(n.jsxs)("div",{className:"Post",children:[Object(n.jsx)("div",{className:"Image",children:Object(n.jsx)(d.Image,{cloudName:"ferdos",publicId:e.image})}),Object(n.jsxs)("div",{className:"Content",children:[Object(n.jsxs)("div",{className:"title",children:[" ",e.title," / by @",e.author]}),Object(n.jsx)("div",{className:"description",children:e.description})]}),Object(n.jsxs)("div",{className:"Engagement",children:[Object(n.jsx)(g.a,{id:"likeButton",onClick:function(){!function(e,t){var n=c;n[t].likes=n[t].likes+1,b.a.post("http://localhost:3001/upload/like",{userLiking:localStorage.getItem("username"),Id:e}).then((function(e){s(n),window.location.reload()}))}(e.Id,t),console.log(t),console.log(e.Id),console.log(e.author)}}),e.likes]})]})}))})};c(256);var p=function(){var e=Object(a.useState)(!0),t=Object(j.a)(e,2),c=t[0],s=t[1],o=Object(a.useState)(!1),l=Object(j.a)(o,2),i=l[0],d=l[1],u=Object(r.e)();return Object(a.useEffect)((function(){console.log(localStorage.getItem("loggedIn")),s(JSON.parse(localStorage.getItem("loggedIn"))),console.log(c)}),[localStorage.getItem("loggedIn")]),i&&(u.push("/login"),window.location.reload()),Object(n.jsxs)("div",{className:"Navbar",children:[Object(n.jsx)("h1",{children:"HAFgram"}),Object(n.jsx)("a",{href:"/",children:"Home"}),c?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{className:"logout",onClick:function(){localStorage.removeItem("loggedIn"),d(!0)},children:"LogOut"}),Object(n.jsx)("a",{href:"/upload",children:"Upload"}),Object(n.jsx)("a",{href:"/profile",children:"Profile"})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("a",{href:"/register",children:"Register"}),Object(n.jsx)("a",{href:"/login",children:"Login"})]})]})};c(260);var m=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),c=t[0],s=t[1],o=Object(a.useState)(""),l=Object(j.a)(o,2),i=l[0],r=l[1],d=Object(a.useState)(""),u=Object(j.a)(d,2),h=u[0],g=u[1];return Object(n.jsxs)("div",{className:"Register",children:[Object(n.jsx)("h1",{children:"Registration"}),Object(n.jsxs)("div",{className:"RegisterForm",children:[Object(n.jsx)("input",{type:"text",placeholder:"Email...",onChange:function(e){s(e.target.value)}}),Object(n.jsx)("input",{type:"text",placeholder:"Username...",onChange:function(e){r(e.target.value)}}),Object(n.jsx)("input",{type:"password",placeholder:"Password...",onChange:function(e){g(e.target.value)}}),Object(n.jsx)("button",{onClick:function(){console.log(i),b.a.post("http://localhost:3001/user/register",{email:c,username:i,password:h}).then((function(e){console.log(e)}))},children:"Register"})]})]})};c(261);var x=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),c=t[0],s=t[1],o=Object(a.useState)(""),l=Object(j.a)(o,2),i=l[0],d=l[1],u=Object(a.useState)(""),h=Object(j.a)(u,2),g=h[0],O=h[1],p=Object(r.e)();return Object(n.jsxs)("div",{className:"Login",children:[Object(n.jsx)("h1",{children:"Login"}),Object(n.jsxs)("div",{className:"LoginForm",children:[Object(n.jsx)("input",{type:"text",placeholder:"Username...",onChange:function(e){s(e.target.value)}}),Object(n.jsx)("input",{type:"password",placeholder:"Password...",onChange:function(e){d(e.target.value)}}),Object(n.jsx)("button",{onClick:function(){b.a.post("http://localhost:3001/user/login",{username:c,password:i}).then((function(e){e.data.loggedIn?(localStorage.setItem("loggedIn",!0),localStorage.setItem("username",e.data.username),p.push("/"),window.location.reload()):O(e.data.message)}))},children:"Login"}),Object(n.jsxs)("h1",{style:{color:"red"},children:[g," "]})]})]})};c(262);var f=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),c=t[0],s=t[1],o=Object(a.useState)(""),l=Object(j.a)(o,2),i=l[0],d=l[1],u=Object(a.useState)([]),h=Object(j.a)(u,2),g=h[0],O=h[1],p=Object(r.e)();return Object(n.jsxs)("div",{className:"Upload",children:[Object(n.jsx)("h1",{children:"Create A Post"}),Object(n.jsxs)("div",{className:"UploadForm",children:[Object(n.jsxs)("div",{className:"style",children:[Object(n.jsx)("input",{type:"text",placeholder:"Title...",onChange:function(e){s(e.target.value)}}),Object(n.jsx)("input",{type:"text",placeholder:"Description...",onChange:function(e){d(e.target.value)}})]}),Object(n.jsx)("input",{type:"file",onChange:function(e){return O(e.target.files)}}),Object(n.jsx)("button",{onClick:function(){var e=new FormData;e.append("file",g[0]),e.append("upload_preset","jp7zpikm"),b.a.post("https://api.cloudinary.com/v1_1/ferdos/image/upload",e).then((function(e){var t=e.data.public_id;b.a.post("http://localhost:3001/upload",{title:c,description:i,image:t,author:localStorage.getItem("username")}).then((function(){p.push("/")}))}))},children:"Upload"})]})]})};c(263);var v=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){b.a.get("http://localhost:3001/upload/byUser/".concat(localStorage.getItem("username"))).then((function(e){s(e.data)}))})),Object(n.jsxs)("div",{className:"Profile",children:[Object(n.jsx)("h1",{children:localStorage.getItem("username")}),c.map((function(e,t){return Object(n.jsxs)("div",{className:"Post",children:[Object(n.jsx)("div",{className:"Image",children:Object(n.jsx)(d.Image,{cloudName:"ferdos",publicId:e.image})}),Object(n.jsxs)("div",{className:"Content",children:[Object(n.jsxs)("div",{className:"title",children:[" ",e.title," / by @",e.author]}),Object(n.jsx)("div",{className:"description",children:e.description})]}),Object(n.jsx)("div",{className:"Engagement",children:e.likes})]})}))]})};var I=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(p,{}),Object(n.jsxs)(i.a,{children:[Object(n.jsx)(r.a,{path:"/",exact:!0,render:function(){return Object(n.jsx)(O,{})}}),Object(n.jsx)(r.a,{path:"/register",exact:!0,render:function(){return Object(n.jsx)(m,{})}}),Object(n.jsx)(r.a,{path:"/login",exact:!0,render:function(){return Object(n.jsx)(x,{})}}),Object(n.jsx)(r.a,{path:"/upload",exact:!0,render:function(){return Object(n.jsx)(f,{})}}),Object(n.jsx)(r.a,{path:"/profile",exact:!0,render:function(){return Object(n.jsx)(v,{})}})]})]})},S=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,278)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;c(e),n(e),a(e),s(e),o(e)}))};l.a.render(Object(n.jsx)(i.a,{children:Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(I,{})})}),document.getElementById("root")),S()}},[[265,1,2]]]);
//# sourceMappingURL=main.f1eac839.chunk.js.map