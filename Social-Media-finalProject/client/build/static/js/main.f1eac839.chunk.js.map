{"version":3,"sources":["pages/Home/Home.js","components/Navbar.js","pages/Register/Register.js","pages/Login/Login.js","pages/Upload/Upload.js","pages/Profile/Profile.js","App.js","reportWebVitals.js","index.js"],"names":["Home","useState","uploads","setUploads","useEffect","localStorage","getItem","setItem","Axios","get","then","response","data","className","map","val","key","cloudName","publicId","image","title","author","description","id","onClick","tempLikes","likes","post","userLiking","Id","window","location","reload","likePost","console","log","Navbar","loggedIn","setLoggedIn","loggedOut","setLoggedOut","history","useHistory","JSON","parse","push","href","removeItem","Register","email","setEmail","username","setUsername","password","setPassword","type","placeholder","onChange","event","target","value","Login","errorMessage","setErrorMessage","message","style","color","Upload","setTitle","setDescription","setImage","e","files","formData","FormData","append","fileName","public_id","Profile","yourUploads","setYourUploads","App","path","exact","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f1eac839.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./Home.css\";\nimport { Image } from \"cloudinary-react\";\nimport Axios from \"axios\";\nimport FavoriteIcon from '@material-ui/icons/Favorite';\n\nfunction Home() {\n  const [uploads, setUploads] = useState([]);\n\n  useEffect(() => {\n    if (!localStorage.getItem(\"loggedIn\")) {\n      localStorage.setItem(\"loggedIn\", false);\n    }\n  }, []);\n\n  useEffect(() => {\n    Axios.get(\"http://localhost:3001/upload\").then((response) => {\n      setUploads(response.data);\n    });\n  }, []);\n\n  const likePost = (id, key) => {\n    var tempLikes = uploads;\n    tempLikes[key].likes = tempLikes[key].likes + 1;\n\n    Axios.post(\"http://localhost:3001/upload/like\", {\n      userLiking: localStorage.getItem(\"username\"),\n      Id: id,\n    }).then((response) => {\n      setUploads(tempLikes);\n      window.location.reload();\n    });\n  };\n\n  return (\n    <div className=\"Home\">\n      {uploads.map((val, key) => {\n        return (\n          <div className=\"Post\">\n            <div className=\"Image\">\n              <Image cloudName=\"ferdos\" publicId={val.image} />\n            </div>\n            <div className=\"Content\">\n              <div className=\"title\">\n                {\" \"}\n                {val.title} / by @{val.author}\n              </div>\n              <div className=\"description\">{val.description}</div>\n            </div>\n            <div className=\"Engagement\">\n              <FavoriteIcon\n                id=\"likeButton\"\n                onClick={() => {\n                  likePost(val.Id, key);\n                  console.log(key);\n                  console.log(val.Id);\n                  console.log(val.author);\n                }}\n              />\n              {val.likes}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default Home;\n","import React, { useEffect, useState } from \"react\";\nimport \"./Navbar.css\";\nimport button from \"@material-ui/core\";\nimport { Redirect , useHistory} from \"react-router-dom\";\n\n\n\nfunction Navbar() {\n  const [loggedIn, setLoggedIn] = useState(true);\n  const [loggedOut, setLoggedOut] = useState(false);\n  let history = useHistory();\n\n  useEffect(() => {\n    console.log(localStorage.getItem(\"loggedIn\"));\n    setLoggedIn(JSON.parse(localStorage.getItem(\"loggedIn\")));\n    console.log(loggedIn);\n  }, [localStorage.getItem(\"loggedIn\")]);\n\n\n  const logout = () => {\n    localStorage.removeItem(\"loggedIn\");\n    setLoggedOut(true);\n\n  };\n\n  if (loggedOut) {\n    history.push(\"/login\");\n    window.location.reload();\n  }\n\n  return (\n    <div className=\"Navbar\">\n\n      <h1>HAFgram</h1>\n      <a href=\"/\">Home</a>\n      \n      {loggedIn ? (\n        <>\n          <button className=\"logout\" onClick={logout}>LogOut</button>\n          <a href=\"/upload\">Upload</a>\n          <a href=\"/profile\">Profile</a>\n        </>\n      ) : (\n        <>\n          <a href=\"/register\">Register</a>\n          <a href=\"/login\">Login</a>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default Navbar;\n","import React, { useState } from \"react\";\nimport \"./Register.css\";\n\nimport Axios from \"axios\";\n\nfunction Register() {\n  const [email, setEmail] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const register = () => {\n    console.log(username);\n    Axios.post(\"http://localhost:3001/user/register\", {\n      email: email,\n      username: username,\n      password: password,\n    }).then((response) => {\n      console.log(response);\n    });\n  };\n\n  return (\n    <div className=\"Register\">\n      <h1>Registration</h1>\n      <div className=\"RegisterForm\">\n        <input\n          type=\"text\"\n          placeholder=\"Email...\"\n          onChange={(event) => {\n            setEmail(event.target.value);\n          }}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Username...\"\n          onChange={(event) => {\n            setUsername(event.target.value);\n          }}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password...\"\n          onChange={(event) => {\n            setPassword(event.target.value);\n          }}\n        />\n        <button onClick={register}>Register</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Register;\n","import React, { useState } from \"react\";\nimport \"./Login.css\";\nimport Axios from \"axios\";\n\nimport { useHistory } from \"react-router-dom\";\n\nfunction Login() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  let history = useHistory();\n\n  const login = () => {\n    Axios.post(\"http://localhost:3001/user/login\", {\n      username: username,\n      password: password,\n    }).then((response) => {\n      if (response.data.loggedIn) {\n        localStorage.setItem(\"loggedIn\", true);\n        localStorage.setItem(\"username\", response.data.username);\n        history.push(\"/\");\n        window.location.reload();\n      } else {\n        setErrorMessage(response.data.message);\n      }\n    });\n  };\n\n  return (\n    <div className=\"Login\">\n      <h1>Login</h1>\n      <div className=\"LoginForm\">\n        <input\n          type=\"text\"\n          placeholder=\"Username...\"\n          onChange={(event) => {\n            setUsername(event.target.value);\n          }}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password...\"\n          onChange={(event) => {\n            setPassword(event.target.value);\n          }}\n        />\n        <button onClick={login}>Login</button>\n        <h1 style={{ color: \"red\" }}>{errorMessage} </h1>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","import React, { useState } from \"react\";\nimport \"./Upload.css\";\nimport Axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Upload() {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [image, setImage] = useState([]);\n\n  let history = useHistory();\n\n  const upload = () => {\n    const formData = new FormData();\n    formData.append(\"file\", image[0]);\n    formData.append(\"upload_preset\", \"jp7zpikm\");\n    Axios.post(\n      `https://api.cloudinary.com/v1_1/ferdos/image/upload`,\n      formData\n    ).then((response) => {\n      const fileName = response.data.public_id;\n\n      Axios.post(\"http://localhost:3001/upload\", {\n        title: title,\n        description: description,\n        image: fileName,\n        author: localStorage.getItem(\"username\"),\n      }).then(() => {\n        history.push(\"/\");\n      });\n    });\n  };\n  return (\n    <div className=\"Upload\">\n      <h1>Create A Post</h1>\n      <div className=\"UploadForm\">\n        <div className=\"style\">\n          <input \n            type=\"text\"\n            placeholder=\"Title...\"\n            onChange={(event) => {\n              setTitle(event.target.value);\n            }}\n          />\n          <input\n            type=\"text\"\n            placeholder=\"Description...\"\n            onChange={(event) => {\n              setDescription(event.target.value);\n            }}\n          />\n        </div>\n\n        <input type=\"file\" onChange={(e) => setImage(e.target.files)} />\n        <button onClick={upload}>Upload</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Upload;\n","import Axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Image } from \"cloudinary-react\";\nimport \"./Profile.css\";\n\nfunction Profile() {\n  const [yourUploads, setYourUploads] = useState([]);\n\n  useEffect(() => {\n    Axios.get(\n      `http://localhost:3001/upload/byUser/${localStorage.getItem(\"username\")}`\n    ).then((response) => {\n      setYourUploads(response.data);\n    });\n  });\n  return (\n    <div className=\"Profile\">\n      <h1>{localStorage.getItem(\"username\")}</h1>\n      {yourUploads.map((val, key) => {\n        return (\n          <div className=\"Post\">\n            <div className=\"Image\">\n              <Image cloudName=\"ferdos\" publicId={val.image} />\n            </div>\n            <div className=\"Content\">\n              <div className=\"title\">\n                {\" \"}\n                {val.title} / by @{val.author}\n              </div>\n              <div className=\"description\">{val.description}</div>\n            </div>\n            <div className=\"Engagement\">{val.likes}</div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default Profile;\n","import \"./App.css\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Home from \"./pages/Home/Home\";\nimport Navbar from \"./components/Navbar\";\nimport Register from \"./pages/Register/Register\";\nimport Login from \"./pages/Login/Login\";\nimport Upload from \"./pages/Upload/Upload\";\nimport Profile from \"./pages/Profile/Profile\";\n\nfunction App() {\n  return (\n      <>\n        <Navbar />\n        <Router>\n          <Route path=\"/\" exact render={() => <Home />} />\n          <Route path=\"/register\" exact render={() => <Register />} />\n          <Route path=\"/login\" exact render={() => <Login />} />\n          <Route path=\"/upload\" exact render={() => <Upload />} />\n          <Route path=\"/profile\" exact render={() => <Profile />} />\n        </Router>\n      </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport {BrowserRouter} from 'react-router-dom';\n\nReactDOM.render(\n  <BrowserRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}